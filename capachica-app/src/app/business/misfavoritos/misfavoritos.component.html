<app-navbar></app-navbar>
<div class="mt-40 max-w-7xl mx-auto px-4 mb-10">
    <h1 class="text-4xl font-bold mb-10 text-center">Mis Favoritos</h1>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div *ngFor="let favorito of favoritos; let i = index"
            class="flex items-start bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-200">

            <!-- Imagen del producto -->
            <div class="flex-shrink-0 w-32 h-32 mr-6">
                <img [src]="favorito.imagenes.length > 0 ? 'https://twsevdzjdnwjhdysvecm.supabase.co/storage/v1/object/public/servicios/' + favorito.imagenes[0]?.url : 'img/fam1.png'"
                    alt="Imagen del slider" class="rounded-t-xl w-full h-1/2 object-cover" />
            </div>

            <!-- Detalles del producto -->
            <div class="flex-grow space-y-2">
                <h4 class="text-xl font-semibold text-gray-900">{{ favorito.nombre }}</h4>

                <div class="grid grid-cols-2 gap-x-4 gap-y-1 text-sm text-gray-700">
                    <p><span class="font-medium">Emprendedor:</span> {{ favorito.emprendimientoNombre }}</p>
                    <div><span class="font-medium">Lugar: </span>
                        <button (click)="mostrarMapa(favorito.latitud, favorito.longitud)"
                            class="text-blue-500 hover:text-blue-700">
                            <i class="fa-solid fa-map-location-dot"></i>
                        </button>
                    </div>
                    <p><span class="font-medium">Tipo evento:</span> {{ favorito.tipoServicio.nombre }}</p>
                    <p class="col-span-2"><span class="font-medium">Descripci√≥n:</span> {{ favorito.descripcion }}</p>
                </div>

                <p class="text-lg font-bold text-green-600 mt-2">
                    Total: {{ favorito.moneda }} {{ favorito.precioBase }}
                </p>
            </div>
        </div>
    </div>

    <div *ngIf="favoritos.length === 0" class="flex flex-col items-center justify-center py-16 col-span-2">
        <div class="animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-green-600"></div>
        <p class="mt-4 text-gray-600 text-lg">Cargando favoritos...</p>
    </div>

</div>